const visits = [
  {
    "id": 2,
    "userId": 2,
    "date": "2024-03-19T13:49:53.032Z",
    "visitType": "Routine check-up",
    "reason": "lol",
    "summary": null,
    "place": null,
    "hospital": "Assuta HaShalom, Tel Aviv",
    "report": "",
    "sourceLanguage": "en",
    "diagnosis": [
      "Abdominal hernia without obstruction or gangrene"
    ],
    "specialties": [
      "Breastfeeding medicine"
    ],
    "createdDate": "2024-03-20T13:51:41.910Z",
    "updatedDate": "2024-03-21T07:11:46.920Z",
    "doctor": {
      "id": 3,
      "ownerId": null,
      "ownerRole": "doctor",
      "userId": 2,
      "title": "Dr.",
      "doctorName": "Katherine",
      "doctorLastName": "Heigel",
      "doctorPhone": "",
      "doctorEmail": "",
      "hasPermission": false,
      "show": true,
      "createdDate": "2024-03-04T19:28:04.545Z",
      "updatedDate": "2024-03-04T19:28:04.545Z",
      "specialty": [],
      "institute": [],
      "isInternal": true,
      "isActive": true
    }
  },
  {
    "id": 1,
    "userId": 2,
    "date": "2024-03-18T11:04:15.053Z",
    "visitType": "Administrative",
    "reason": "lol",
    "summary": null,
    "place": null,
    "hospital": "Alyn Hospital Pediatric and Adolescent Rehabilitation Center, Jerusalem",
    "report": "CssdhSKBJaWVQt4vAXJ75eRr8lG2/1531160b-244b-458e-9539-8da0dee876f1.userChrome.css",
    "sourceLanguage": "en",
    "diagnosis": [
      "Abdominal aortic aneurysm, ruptured"
    ],
    "specialties": [
      "Breast surgery",
      "Anti-ageing medicine",
      "Breast oncology",
      "Anesthesia",
      "Advanced Endoscopy"
    ],
    "createdDate": "2024-03-18T11:04:55.375Z",
    "updatedDate": "2024-03-18T15:56:05.212Z",
    "doctor": {
      "id": 3,
      "ownerId": null,
      "ownerRole": "doctor",
      "userId": 2,
      "title": "Dr.",
      "doctorName": "Katherine",
      "doctorLastName": "Heigel",
      "doctorPhone": "",
      "doctorEmail": "",
      "hasPermission": false,
      "show": true,
      "createdDate": "2024-03-04T19:28:04.545Z",
      "updatedDate": "2024-03-04T19:28:04.545Z",
      "specialty": [],
      "institute": [],
      "isInternal": true,
      "isActive": true
    }
  },
  {
    "id": 6,
    "userId": 2,
    "date": "2024-03-18T08:03:02.711Z",
    "visitType": "Urgent complaint",
    "reason": "sorry",
    "summary": null,
    "place": null,
    "hospital": "Assuta Ramat HaHayal, Tel Aviv",
    "report": "",
    "sourceLanguage": "en",
    "diagnosis": [
      "Abnormal uterine and vaginal bleeding",
      "Abdominal aortic aneurysm, ruptured",
      "Abdominal aortic aneurysm"
    ],
    "specialties": [
      "Breast oncology"
    ],
    "createdDate": "2024-03-21T08:04:15.376Z",
    "updatedDate": "2024-03-21T08:04:15.376Z",
    "doctor": {
      "id": 4,
      "ownerId": null,
      "ownerRole": "doctor",
      "userId": 2,
      "title": "Dr.",
      "doctorName": "Peyton",
      "doctorLastName": "Kelly",
      "doctorPhone": "",
      "doctorEmail": "",
      "hasPermission": false,
      "show": true,
      "createdDate": "2024-03-21T07:55:33.031Z",
      "updatedDate": "2024-03-21T07:55:33.031Z",
      "specialty": [],
      "institute": [],
      "isInternal": true,
      "isActive": true
    }
  },
  {
    "id": 4,
    "userId": 2,
    "date": "2024-03-07T14:00:31.233Z",
    "visitType": "Urgent complaint",
    "reason": "aww",
    "summary": null,
    "place": null,
    "hospital": "Abarbanel Mental Health Center, Bat Yam",
    "report": "",
    "sourceLanguage": "he",
    "diagnosis": [
      "Abdominal hernia without obstruction or gangrene",
      "Abdominal aortic aneurysm, ruptured"
    ],
    "specialties": [
      "Breast surgery",
      "Anti-ageing medicine"
    ],
    "createdDate": "2024-03-20T14:01:27.789Z",
    "updatedDate": "2024-03-20T14:01:27.789Z",
    "doctor": {
      "id": 3,
      "ownerId": null,
      "ownerRole": "doctor",
      "userId": 2,
      "title": "Dr.",
      "doctorName": "Katherine",
      "doctorLastName": "Heigel",
      "doctorPhone": "",
      "doctorEmail": "",
      "hasPermission": false,
      "show": true,
      "createdDate": "2024-03-04T19:28:04.545Z",
      "updatedDate": "2024-03-04T19:28:04.545Z",
      "specialty": [],
      "institute": [],
      "isInternal": true,
      "isActive": true
    }
  },
  {
    "id": 3,
    "userId": 2,
    "date": "2024-03-05T13:52:23.517Z",
    "visitType": "Follow-up",
    "reason": "noice",
    "summary": null,
    "place": null,
    "hospital": "Assuta Beersheba Hospital, Beer-Sheva",
    "report": "",
    "sourceLanguage": "en",
    "diagnosis": [
      "Abnormal uterine and vaginal bleeding",
      "Abdominal aortic aneurysm, ruptured",
      "Abdominal aortic aneurysm",
      "Abnormal weight loss"
    ],
    "specialties": [
      "Breast oncology",
      "Advanced Endoscopy",
      "Breastfeeding medicine"
    ],
    "createdDate": "2024-03-20T13:53:19.808Z",
    "updatedDate": "2024-03-20T15:12:02.013Z",
    "doctor": {
      "id": 3,
      "ownerId": null,
      "ownerRole": "doctor",
      "userId": 2,
      "title": "Dr.",
      "doctorName": "Katherine",
      "doctorLastName": "Heigel",
      "doctorPhone": "",
      "doctorEmail": "",
      "hasPermission": false,
      "show": true,
      "createdDate": "2024-03-04T19:28:04.545Z",
      "updatedDate": "2024-03-04T19:28:04.545Z",
      "specialty": [],
      "institute": [],
      "isInternal": true,
      "isActive": true
    }
  }
]

// const uniqueDoctors = new Set();
//
// for (const visit of visits) {
//   uniqueDoctors.add({ text: `${visit.doctor.title} ${visit.doctor.doctorName} ${visit.doctor.doctorLastName}`, value: visit.doctor.id });
// }
//
const uniqueDoctors = Array.from(new Set(visits.map(visit => visit.doctor.id)));
console.log("DEBUGPRINT[2]: doc.js:218: uniqueDoctors=", uniqueDoctors)

// const uniqueDoctorInfo = Array.from(new Set(visits.map(visit => ({
//     text: visit.doctor.doctorName,
//     value: visit.doctor.id
// }))));
// console.log(uniqueDoctorInfo);

const uniqueDoctorObj = visits.reduce((acc, visit) => {
    acc[visit.doctor.id] = { text: visit.doctor.doctorName, value: visit.doctor.id };
    return acc;
}, {});

// Extract the values to form the unique array of doctor info objects
const uniqueDoctorInfo = Object.values(uniqueDoctorObj);

// Display the unique array of doctor info objects
console.log(uniqueDoctorInfo);


const allSpecialties = [];

// Iterate through each visit and extract the specialties
visits.forEach(visit => {
  // Iterate through each specialty in the current visit
  visit.specialties.forEach(specialty => {
    // Add the specialty to the allSpecialties array if it's not already included
    if (!allSpecialties.includes(specialty)) {
      allSpecialties.push(specialty);
    }
  });
});

// Now allSpecialties array contains all unique specialties
console.log(allSpecialties);

const sortedVisits = visits.sort((a, b) => {
  if (a.visitType < b.visitType) {
    return -1;
  }
  if (a.visitType > b.visitType) {
    return 1;
  }
  return 0;
});
  console.log("DEBUGPRINT[1]: doc.js:255: sortedVisits=", sortedVisits)
